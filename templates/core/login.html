{% extends "core/base_auth.html" %}
{% block title %}Login | eSociety{% endblock %}

{% block content %}
  <div class="auth-header">
    <h2>Welcome back</h2>
    <p>Login to access your eSociety dashboard.</p>
  </div>

  <form method="POST" class="auth-form" novalidate>
    {% csrf_token %}

    <!-- Django messages (invalid password, inactive user, etc.) -->
    {% if messages %}
      <div class="alert alert-error">
        {% for message in messages %}
          <div>{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Global form errors -->
    {% if form.non_field_errors %}
      <div class="alert alert-error">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div class="form-grid">
      <div class="form-group">
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email }}
        {% if form.email.errors %}
          <div class="field-error">{{ form.email.errors|striptags }}</div>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.password.id_for_label }}">Password</label>
        {{ form.password }}
        {% if form.password.errors %}
          <div class="field-error">{{ form.password.errors|striptags }}</div>
        {% endif %}
      </div>
    </div>

    <button type="submit" class="btn-primary">Login</button>

    <div class="auth-alt">
      <span>Donâ€™t have an account?</span>
      <a href="{% url 'signup' %}">Create account</a>
    </div>
  </form>
{% endblock %}